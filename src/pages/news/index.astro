---
import Layout from "@/layouts/MainLayout.astro";
import NewsLayout from "@/layouts/NewsLayout.astro";
import NewsCard from "@/components/NewsCard.astro";

import api from "@/api.ts";

const news = await api.getNews();
---

<Layout title="Noticias">
  <NewsLayout title="Noticias">
    {
      news.map((item) => (
        <NewsCard
          image={item.attributes.hero_image.data.attributes.formats.medium.url}
          title={item.attributes.title}
          description={item.attributes.description}
          href={`/news/${item.attributes.slug}`}
        />
      ))
    }
  </NewsLayout>
</Layout>
