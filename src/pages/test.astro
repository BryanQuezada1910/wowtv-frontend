---
import Layout from '../layouts/Layout.astro';
import NewsLayout from '../layouts/NewsLayout.astro';
import Hero from "../components/Hero.astro";
import LiveCard from '../components/LiveCard.astro';
import Card from '../components/Card.astro';

import type { NewsItem } from '../types.ts';

import api from '../api.ts';

const news: NewsItem[] = await api.getNews();
---

<Layout title="WOW TV EL SALVADOR">
  <Hero />
  <LiveCard />
  <NewsLayout>
    {news.map((item) => (
      <Card image={item.attributes.hero_image.data.attributes.formats.large.url} title={item.attributes.title} description={item.attributes.description} href="/" />
    ))}
  </NewsLayout>
</Layout>
